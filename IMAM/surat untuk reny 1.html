<html class="scroll-smooth" lang="id">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Selamat Ulang Tahun Reny
  </title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&amp;family=Montserrat:wght@400;600&amp;display=swap" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Montserrat', sans-serif;
      background: url('Gambar/bg.jpg') no-repeat center center fixed;
      background-size: cover;
      min-height: 100vh;
      overflow-x: hidden;
    }
    .font-script {
      font-family: 'Great Vibes', cursive;
    }
    /* Scrollbar for modal */
    .modal-scroll::-webkit-scrollbar {
      width: 8px;
    }
    .modal-scroll::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 4px;
    }
    .modal-scroll::-webkit-scrollbar-thumb {
      background: #f8b500;
      border-radius: 4px;
    }
    /* Sticker style backgrounds with subtle romantic icons */
    .sticker-bg-1 {
      background-color: #fff0f6;
      background-image:
        url('https://cdn-icons-png.flaticon.com/512/833/833472.png'), /* love heart */
        url('https://cdn-icons-png.flaticon.com/512/616/616408.png'), /* balloon */
        url('https://cdn-icons-png.flaticon.com/512/833/833472.png'); /* love heart */
      background-repeat: no-repeat, no-repeat, no-repeat;
      background-position: 15% 20%, 75% 15%, 50% 80%;
      background-size: 60px 60px, 50px 50px, 60px 60px;
      border: 6px dashed #ff69b4;
      box-shadow: 0 8px 15px rgba(255, 105, 180, 0.3);
      transition: background-position 1.5s ease-in-out;
    }
    .sticker-bg-1:hover {
      background-position: 20% 25%, 80% 20%, 55% 85%;
    }
    .sticker-bg-2 {
      background-color: #e0f7fa;
      background-image:
        url('https://cdn-icons-png.flaticon.com/512/833/833472.png'), /* love heart */
        url('https://cdn-icons-png.flaticon.com/512/616/616408.png'), /* balloon */
        url('https://cdn-icons-png.flaticon.com/512/833/833472.png'); /* love heart */
      background-repeat: no-repeat, no-repeat, no-repeat;
      background-position: 20% 15%, 80% 75%, 50% 50%;
      background-size: 45px 45px, 45px 45px, 70px 70px;
      border: 6px dotted #0097a7;
      box-shadow: 0 8px 15px rgba(0, 151, 167, 0.3);
      transition: background-position 1.5s ease-in-out;
    }
    .sticker-bg-2:hover {
      background-position: 25% 20%, 85% 80%, 55% 55%;
    }
    .sticker-bg-3 {
      background-color: #fffde7;
      background-image:
        url('https://cdn-icons-png.flaticon.com/512/833/833472.png'), /* love heart */
        url('https://cdn-icons-png.flaticon.com/512/616/616408.png'); /* balloon */
      background-repeat: no-repeat, no-repeat;
      background-position: 25% 25%, 75% 75%;
      background-size: 50px 50px, 60px 60px;
      border: 6px double #fbc02d;
      box-shadow: 0 8px 15px rgba(251, 192, 45, 0.3);
      transition: background-position 1.5s ease-in-out;
    }
    .sticker-bg-3:hover {
      background-position: 30% 30%, 80% 80%;
    }
    /* Letter paper overlay */
    .letter-overlay {
      position: absolute;
      inset: 0;
      pointer-events: none;
      background-image: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');
      background-repeat: repeat;
      background-size: 120px 120px;
      opacity: 0.12;
      border-radius: 1.5rem;
      z-index: -1;
      filter: brightness(1.1) contrast(0.9);
      transition: opacity 0.5s ease;
    }
    /* Smooth fade in/out */
    .fade-enter {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .fade-enter-active {
      opacity: 1;
      transform: translateY(0);
    }
    .fade-exit {
      opacity: 1;
      transform: translateY(0);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .fade-exit-active {
      opacity: 0;
      transform: translateY(20px);
    }
    /* Gallery hover effect */
    .gallery-item img {
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      border-radius: 1rem;
      cursor: pointer;
    }
    .gallery-item img:hover {
      transform: scale(1.05) rotate(1deg);
      box-shadow: 0 10px 20px rgba(251, 192, 45, 0.5);
      z-index: 10;
      position: relative;
    }
    /* Confetti container */
    #confetti {
      pointer-events: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 9999;
      overflow: visible;
    }
  /* Modal image frame and sizing improvements */
  #photoModal img#modalImage {
    border: 8px solid #fbc02d;
    border-radius: 1.5rem 1.5rem 0 0;
    max-height: 80vh;
    object-fit: contain;
    background-color: #fff9e6;
    padding: 8px;
    box-shadow: 0 8px 20px rgba(251, 192, 45, 0.6);
    transition: transform 0.3s ease;
  }
  #photoModal img#modalImage:hover {
    transform: scale(1.02);
  }
  /* Audio controls styling */
  #loveAudio {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 250px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(248, 181, 0, 0.6);
    background-color: #fff9e6;
    outline: none;
    z-index: 10000;
  }
  </style>
 </head>
 <body class="text-gray-900">
<audio id="loveAudio" loop preload="auto" autoplay src="../Gambar/music.mp3"></audio>
  <div class="max-w-4xl mx-auto p-6 sm:p-10 relative">
   <!-- Confetti container -->
   <canvas id="confetti"></canvas>

   <!-- Page 1: Surat dari Imam -->
   <section class="min-h-screen flex flex-col justify-center items-center px-6 text-center rounded-3xl shadow-lg relative overflow-hidden sticker-bg-1" id="page1">
    <div aria-hidden="true" class="letter-overlay"></div>
    <h1 class="text-5xl font-script text-pink-700 mb-8 drop-shadow-lg select-none animate-fadeIn">
     Buka Surat Ini
    </h1>
    <p class="text-lg text-pink-800 mb-12 max-w-xl font-semibold tracking-wide bg-white bg-opacity-70 rounded-lg p-5 shadow-md">
     Dari
     <span class="font-script text-3xl">
      Imam
     </span>
     untuk
     <span class="font-script text-3xl">
      Reny
     </span>
    </p>
    <button aria-label="Buka surat dari Imam untuk Reny" class="bg-pink-600 hover:bg-pink-700 text-white font-semibold px-10 py-3 rounded-full shadow-lg transition duration-500 flex items-center gap-3 focus:outline-none focus:ring-4 focus:ring-pink-400 transform hover:scale-105" id="openLetterBtn">
     <i class="fas fa-envelope-open-text text-xl"></i>
     Open
    </button>
   </section>

   <!-- Page 2: Ucapan Selamat Ulang Tahun dan Permintaan Maaf -->
   <section class="hidden min-h-screen flex flex-col justify-center items-center px-8 text-center rounded-3xl shadow-lg relative overflow-hidden mt-10 sticker-bg-2" id="page2">
    <div aria-hidden="true" class="letter-overlay" style="background-image: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80'); opacity: 0.12;"></div>
    <h2 class="text-4xl font-script text-cyan-900 mb-6 drop-shadow-md select-none animate-fadeIn">
     Selamat Ulang Tahun, Reny!
    </h2>
    <p class="max-w-3xl text-lg text-cyan-900 font-semibold mb-8 leading-relaxed bg-white bg-opacity-80 rounded-lg p-6 shadow-md animate-fadeIn">
     Di hari yang istimewa ini, aku ingin mengucapkan selamat ulang tahun dengan segenap hati. Semoga setiap langkahmu dipenuhi kebahagiaan, cinta, dan keberkahan yang tak terhingga. Aku tahu aku sering membuatmu sedih dan marah, dan aku ingin meminta maaf dari lubuk hatiku yang terdalam. Terima kasih sudah sabar menunggu aku untuk meminangmu, aku berjanji akan menjadi yang terbaik untukmu, Reny.
    </p>
    <button aria-label="Buka halaman kenangan" class="bg-cyan-800 hover:bg-cyan-900 text-white font-semibold px-8 py-3 rounded-full shadow-lg transition duration-500 flex items-center gap-3 focus:outline-none focus:ring-4 focus:ring-cyan-400 transform hover:scale-105" id="openMemoriesBtn">
     <i class="fas fa-book-open text-xl"></i>
     Buka Halaman Kenangan
    </button>
   </section>

   <!-- Page 3: Halaman Kenangan dengan 10 Foto -->
   <section class="hidden min-h-screen flex flex-col items-center px-6 py-10 rounded-3xl shadow-lg mt-10 sticker-bg-3" id="page3">
    <div aria-hidden="true" class="letter-overlay" style="background-image: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80'); opacity: 0.14;"></div>
    <h3 class="text-4xl font-script text-yellow-900 mb-10 select-none drop-shadow-md animate-fadeIn">
     Halaman Kenangan
    </h3>
    <p class="text-center max-w-3xl text-yellow-900 font-semibold mb-8 bg-white bg-opacity-80 rounded-lg p-5 shadow-md animate-fadeIn">
     Kenangan indah kita yang tak terlupakan, setiap foto menyimpan cerita dan makna yang dalam.
    </p>
     <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-6 w-full max-w-5xl">
      <button aria-label="Foto kenangan 1: Reny dan Imam tersenyum di taman bunga saat matahari terbenam" class="group relative rounded-xl overflow-hidden shadow-lg focus:outline-none focus:ring-4 focus:ring-yellow-600 gallery-item" data-photo="1" tabindex="0">
       <img alt="Reny dan Imam tersenyum di taman bunga saat matahari terbenam, suasana hangat dan romantis" class="w-full h-full object-cover" height="400" loading="lazy" src="../Gambar/1.jpg" width="300"/>
       <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 text-white text-sm font-semibold select-none">
        Taman Bunga Senja
       </div>
      </button>
      <button aria-label="Foto kenangan 2: Reny dan Imam berpelukan di bawah payung saat hujan ringan" class="group relative rounded-xl overflow-hidden shadow-lg focus:outline-none focus:ring-4 focus:ring-yellow-600 gallery-item" data-photo="2" tabindex="0">
       <img alt="Reny dan Imam berpelukan di bawah payung saat hujan ringan, suasana hangat dan penuh cinta" class="w-full h-full object-cover" height="400" loading="lazy" src="../Gambar/2.jpg" width="300"/>
       <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 text-white text-sm font-semibold select-none">
        Pelukan di Hujan
       </div>
      </button>
      <button aria-label="Foto kenangan 3: Reny dan Imam tertawa bersama di kafe dengan latar belakang lampu-lampu kota" class="group relative rounded-xl overflow-hidden shadow-lg focus:outline-none focus:ring-4 focus:ring-yellow-600 gallery-item" data-photo="3" tabindex="0">
       <img alt="Reny dan Imam tertawa bersama di kafe dengan latar belakang lampu-lampu kota yang berkilauan" class="w-full h-full object-cover" height="400" loading="lazy" src="../Gambar/3.jpg" width="300"/>
       <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 text-white text-sm font-semibold select-none">
        Tawa di Kafe
       </div>
      </button>
      <button aria-label="Foto kenangan 4: Reny dan Imam berjalan bergandengan tangan di pantai saat matahari terbit" class="group relative rounded-xl overflow-hidden shadow-lg focus:outline-none focus:ring-4 focus:ring-yellow-600 gallery-item" data-photo="4" tabindex="0">
       <img alt="Reny dan Imam berjalan bergandengan tangan di pantai saat matahari terbit, suasana damai dan penuh harapan" class="w-full h-full object-cover" height="400" loading="lazy" src="../Gambar/4.jpg" width="300"/>
       <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 text-white text-sm font-semibold select-none">
        Jalan di Pantai
       </div>
      </button>
      <button aria-label="Foto kenangan 5: Reny dan Imam duduk di bangku taman sambil menikmati es krim" class="group relative rounded-xl overflow-hidden shadow-lg focus:outline-none focus:ring-4 focus:ring-yellow-600 gallery-item" data-photo="5" tabindex="0">
       <img alt="Reny dan Imam duduk di bangku taman sambil menikmati es krim, suasana ceria dan santai" class="w-full h-full object-cover" height="400" loading="lazy" src="../Gambar/5.jpg" width="300"/>
       <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 text-white text-sm font-semibold select-none">
        Es Krim di Taman
       </div>
      </button>
      <button aria-label="Foto kenangan 6: Reny dan Imam berfoto selfie dengan latar belakang air terjun" class="group relative rounded-xl overflow-hidden shadow-lg focus:outline-none focus:ring-4 focus:ring-yellow-600 gallery-item" data-photo="6" tabindex="0">
       <img alt="Reny dan Imam berfoto selfie dengan latar belakang air terjun yang indah dan segar" class="w-full h-full object-cover" height="400" loading="lazy" src="../Gambar/6.jpg" width="300"/>
       <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 text-white text-sm font-semibold select-none">
        Selfie Air Terjun
       </div>
      </button>
      <button aria-label="Foto kenangan 7: Reny dan Imam duduk di atas rumput sambil membaca buku bersama" class="group relative rounded-xl overflow-hidden shadow-lg focus:outline-none focus:ring-4 focus:ring-yellow-600 gallery-item" data-photo="7" tabindex="0">
       <img alt="Reny dan Imam duduk di atas rumput sambil membaca buku bersama, suasana tenang dan harmonis" class="w-full h-full object-cover" height="400" loading="lazy" src="../Gambar/7.jpg" width="300"/>
       <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 text-white text-sm font-semibold select-none">
        Membaca di Rumput
       </div>
      </button>
      <button aria-label="Foto kenangan 8: Reny dan Imam tertawa bersama di festival lampion malam hari" class="group relative rounded-xl overflow-hidden shadow-lg focus:outline-none focus:ring-4 focus:ring-yellow-600 gallery-item" data-photo="8" tabindex="0">
       <img alt="Reny dan Imam tertawa bersama di festival lampion malam hari dengan cahaya lampion yang hangat" class="w-full h-full object-cover" height="400" loading="lazy" src="../Gambar/8.jpg" width="300"/>
       <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 text-white text-sm font-semibold select-none">
        Festival Lampion
       </div>
      </button>
      <button aria-label="Foto kenangan 9: Reny dan Imam bersepeda bersama di jalan pedesaan yang rindang" class="group relative rounded-xl overflow-hidden shadow-lg focus:outline-none focus:ring-4 focus:ring-yellow-600 gallery-item" data-photo="9" tabindex="0">
       <img alt="Reny dan Imam bersepeda bersama di jalan pedesaan yang rindang, suasana segar dan penuh semangat" class="w-full h-full object-cover" height="400" loading="lazy" src="../Gambar/9.jpg" width="300"/>
       <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 text-white text-sm font-semibold select-none">
        Bersepeda Bersama
       </div>
      </button>
      <button aria-label="Foto kenangan 10: Reny dan Imam duduk di tepi danau sambil menikmati matahari terbenam" class="group relative rounded-xl overflow-hidden shadow-lg focus:outline-none focus:ring-4 focus:ring-yellow-600 gallery-item" data-photo="10" tabindex="0">
       <img alt="Reny dan Imam duduk di tepi danau sambil menikmati matahari terbenam, suasana damai dan romantis" class="w-full h-full object-cover" height="400" loading="lazy" src="../Gambar/10.jpg" width="300"/>
       <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 text-white text-sm font-semibold select-none">
        Tepi Danau Senja
       </div>
      </button>
     </div>
   </section>

   <!-- Modal for photo detail -->
   <div aria-describedby="modalDesc" aria-labelledby="modalTitle" aria-modal="true" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-6 z-50 hidden" id="photoModal" role="dialog">
    <div class="bg-white rounded-3xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl relative animate-fadeIn">
     <button aria-label="Tutup modal foto" class="absolute top-4 right-4 text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-pink-400 rounded-full p-2" id="closeModalBtn">
      <i class="fas fa-times text-2xl"></i>
     </button>
     <img alt="" class="w-full rounded-t-3xl object-contain max-h-[60vh]" id="modalImage" loading="lazy" src=""/>
     <div class="p-6 text-center">
      <h4 class="text-2xl font-semibold mb-3 font-script text-pink-600" id="modalTitle"></h4>
      <p class="text-gray-700 text-lg leading-relaxed px-4" id="modalDesc"></p>
     </div>
    </div>
   </div>
  </div>

  <script>
    // Confetti animation adapted from canvas-confetti (lightweight)
    (() => {
      const confettiCanvas = document.getElementById('confetti');
      const ctx = confettiCanvas.getContext('2d');
      let W, H;
      let particles = [];
      const maxParticles = 150;

      function randomRange(min, max) {
        return Math.random() * (max - min) + min;
      }

      function resize() {
        W = window.innerWidth;
        H = window.innerHeight;
        confettiCanvas.width = W;
        confettiCanvas.height = H;
      }

      class Particle {
        constructor() {
          this.x = Math.random() * W;
          this.y = Math.random() * H - H;
          this.r = randomRange(5, 10);
          this.d = randomRange(10, 30);
          this.color = `hsl(${Math.floor(randomRange(0, 360))}, 70%, 60%)`;
          this.tilt = randomRange(-10, 10);
          this.tiltAngleIncremental = randomRange(0.05, 0.12);
          this.tiltAngle = 0;
          this.speed = randomRange(1, 3);
        }
        update() {
          this.y += this.speed;
          this.tiltAngle += this.tiltAngleIncremental;
          this.tilt = Math.sin(this.tiltAngle) * 15;
          if (this.y > H) {
            this.x = Math.random() * W;
            this.y = -10;
            this.tilt = randomRange(-10, 10);
          }
        }
        draw() {
          ctx.beginPath();
          ctx.lineWidth = this.r / 2;
          ctx.strokeStyle = this.color;
          ctx.moveTo(this.x + this.tilt + this.r / 4, this.y);
          ctx.lineTo(this.x + this.tilt, this.y + this.tilt + this.r / 4);
          ctx.stroke();
        }
      }

      function initParticles() {
        particles = [];
        for (let i = 0; i < maxParticles; i++) {
          particles.push(new Particle());
        }
      }

      function draw() {
        ctx.clearRect(0, 0, W, H);
        particles.forEach(p => {
          p.update();
          p.draw();
        });
        requestAnimationFrame(draw);
      }

      window.addEventListener('resize', () => {
        resize();
      });

      resize();
      initParticles();
      draw();

      // Expose start and stop confetti
      window.startConfetti = () => {
        confettiCanvas.style.display = 'block';
      };
      window.stopConfetti = () => {
        confettiCanvas.style.display = 'none';
      };
      confettiCanvas.style.display = 'none';
    })();

    // Navigation between pages with fade effect
    const page1 = document.getElementById('page1');
    const page2 = document.getElementById('page2');
    const page3 = document.getElementById('page3');
    const openLetterBtn = document.getElementById('openLetterBtn');
    const openMemoriesBtn = document.getElementById('openMemoriesBtn');
    const loveAudio = document.getElementById('loveAudio');

    function fadeOut(element, callback) {
      element.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
      element.style.opacity = '0';
      element.style.transform = 'translateY(20px)';
      setTimeout(() => {
        callback();
        element.style.opacity = '1';
        element.style.transform = 'translateY(0)';
      }, 500);
    }

    openLetterBtn.addEventListener('click', () => {
      fadeOut(page1, () => {
        page1.classList.add('hidden');
        page2.classList.remove('hidden');
        window.scrollTo({ top: 0, behavior: 'smooth' });
        loveAudio.play().catch(() => {});
      });
    });

    openMemoriesBtn.addEventListener('click', () => {
      fadeOut(page2, () => {
        page2.classList.add('hidden');
        page3.classList.remove('hidden');
        window.scrollTo({ top: 0, behavior: 'smooth' });
        window.startConfetti();
      });
    });

    // Photo modal logic
    const photoModal = document.getElementById('photoModal');
    const modalImage = document.getElementById('modalImage');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    const closeModalBtn = document.getElementById('closeModalBtn');

    // Data for photos and their descriptions
    const photosData = {
    1: {
      src: '../Gambar/1.jpg',
      alt: 'Reny dan Imam berfoto bersama di taman bunga dengan latar belakang bunga berwarna-warni',
      title: 'Taman Bunga Warna-warni',
      description:
        'Foto ini menunjukkan kebahagiaan kita saat berada di taman bunga yang penuh warna, melambangkan keceriaan dan cinta yang bersemi.',
    },
    2: {
      src: '../Gambar/2.jpg',
      alt: 'Reny dan Imam berpelukan hangat di bawah payung saat hujan gerimis',
      title: 'Pelukan di Hujan Gerimis',
      description:
        'Saat hujan gerimis turun, kita berdua berpelukan hangat di bawah payung, merasakan kehangatan cinta yang melindungi dari dinginnya hujan.',
    },
    3: {
      src: '../Gambar/3.jpg',
      alt: 'Reny dan Imam tertawa bersama di sebuah kafe dengan lampu kota yang berkilauan di malam hari',
      title: 'Tawa di Kafe Malam',
      description:
        'Tawa kita di kafe malam itu menjadi kenangan manis yang selalu menghangatkan hati, di tengah gemerlap lampu kota yang indah.',
    },
    4: {
      src: '../Gambar/4.jpg',
      alt: 'Reny dan Imam berjalan bergandengan tangan di pantai saat matahari terbit',
      title: 'Jalan di Pantai Saat Matahari Terbit',
      description:
        'Berjalan bersama di pantai saat matahari terbit, kita merasakan kedamaian dan harapan baru yang menguatkan cinta kita.',
    },
    5: {
      src: '../Gambar/5.jpg',
      alt: 'Reny dan Imam duduk di bangku taman sambil menikmati es krim bersama',
      title: 'Es Krim di Taman',
      description:
        'Momen santai kita duduk di bangku taman sambil menikmati es krim, penuh tawa dan kebahagiaan sederhana yang tak terlupakan.',
    },
    6: {
      src: '../Gambar/6.jpg',
      alt: 'Reny dan Imam berfoto selfie dengan latar belakang air terjun yang indah',
      title: 'Selfie di Air Terjun',
      description:
        'Selfie kita di depan air terjun yang megah ini mengabadikan kebersamaan dan petualangan yang selalu membuat kita semakin dekat.',
    },
    7: {
      src: '../Gambar/7.jpg',
      alt: 'Reny dan Imam duduk di atas rumput sambil membaca buku bersama',
      title: 'Membaca di Rumput',
      description:
        'Saat kita duduk bersama di atas rumput, membaca buku dan berbagi cerita, aku merasa damai dan bahagia dengan kehadiranmu di sisiku.',
    },
    8: {
      src: '../Gambar/8.jpg',
      alt: 'Reny dan Imam tertawa bersama di festival lampion malam hari',
      title: 'Festival Lampion Malam',
      description:
        'Malam itu, di festival lampion, tawa kita bercahaya seperti lampion yang menerangi langit, penuh kehangatan dan harapan.',
    },
    9: {
      src: '../Gambar/9.jpg',
      alt: 'Reny dan Imam bersepeda bersama di jalan pedesaan yang rindang',
      title: 'Bersepeda di Jalan Pedesaan',
      description:
        'Bersepeda di jalan pedesaan yang rindang, kita berbagi semangat dan kebahagiaan dalam setiap kayuhan yang kita lakukan bersama.',
    },
    10: {
      src: '../Gambar/10.jpg',
      alt: 'Reny dan Imam duduk di tepi danau sambil menikmati matahari terbenam',
      title: 'Tepi Danau Saat Senja',
      description:
        'Duduk di tepi danau menikmati matahari terbenam, kita merasakan kedamaian dan cinta yang semakin dalam di setiap detiknya.',
    },
    };

    // Open modal with photo details
    document.querySelectorAll('#page3 button[data-photo]').forEach((btn) => {
      btn.addEventListener('click', () => {
        const photoId = btn.getAttribute('data-photo');
        const photo = photosData[photoId];
        if (photo) {
          modalImage.src = photo.src;
          modalImage.alt = photo.alt;
          modalTitle.textContent = photo.title;
          modalDesc.textContent = photo.description;
          photoModal.classList.remove('hidden');
          document.body.style.overflow = 'hidden';
          closeModalBtn.focus();
        }
      });
    });

    // Close modal
    closeModalBtn.addEventListener('click', () => {
      photoModal.classList.add('hidden');
      modalImage.src = '';
      modalImage.alt = '';
      modalTitle.textContent = '';
      modalDesc.textContent = '';
      document.body.style.overflow = '';
    });

    // Close modal on outside click
    photoModal.addEventListener('click', (e) => {
      if (e.target === photoModal) {
        closeModalBtn.click();
      }
    });

    // Close modal on ESC key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !photoModal.classList.contains('hidden')) {
        closeModalBtn.click();
      }
    });

    // Stop confetti when modal closes or page changes
    closeModalBtn.addEventListener('click', () => {
      window.stopConfetti();
    });
    openLetterBtn.addEventListener('click', () => {
      window.stopConfetti();
    });

    // Play audio on page 2, pause on page 3
    // Remove pause on page 3 to keep music playing continuously
    // openMemoriesBtn.addEventListener('click', () => {
    //   loveAudio.pause();
    // });

    // Play audio on page 1 load (initial page)
    window.addEventListener('load', () => {
      // Try to play audio on load, catch errors if autoplay is blocked
      loveAudio.play().catch(() => {
        // If autoplay is blocked, wait for user interaction to play audio
        function playOnInteraction() {
          loveAudio.play();
          window.removeEventListener('click', playOnInteraction);
          window.removeEventListener('keydown', playOnInteraction);
        }
        window.addEventListener('click', playOnInteraction);
        window.addEventListener('keydown', playOnInteraction);
      });
    });

    // Also play audio when "Open" button is clicked on page 1
    openLetterBtn.addEventListener('click', () => {
      loveAudio.play().catch(() => {});
    });

    // Accessibility: allow keyboard navigation for gallery items
    document.querySelectorAll('.gallery-item').forEach(item => {
      item.addEventListener('keydown', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          item.click();
        }
      });
    });
  </script>
 </body>
</html>